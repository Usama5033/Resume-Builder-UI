<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProResume Builder</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Inter font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Load Lucide icons -->
    <script src="https://unpkg.com/lucide-react@latest/dist/lucide.umd.js"></script>

    <style>
        /* Custom styles */
        body {
            font-family: 'Inter', sans-serif;
        }

        /* Print-specific styles */
        @media print {
            /* Hide everything except the resume preview */
            body > *:not(#print-wrapper) {
                display: none;
            }
            #print-wrapper {
                display: block;
                width: 100%;
                margin: 0;
                padding: 0;
            }
            #resume-preview {
                box-shadow: none;
                border: none;
                margin: 0;
                padding: 0;
                width: 100%;
                max-width: 100%;
                border-radius: 0;
            }
            /* Ensure text colors are print-friendly */
            #resume-preview * {
                color: #000 !important;
                background-color: #fff !important;
            }
            #preview-image {
                /* Ensure image prints */
                display: block !important;
            }
        }
    </style>
</head>
<body class="bg-gray-100">

    <!-- Header -->
    <header class="bg-white shadow-md">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center h-16">
            <div class="flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-6 w-6 text-blue-600"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/><path d="M10 9H8"/><path d="M16 13H8"/><path d="M16 17H8"/></svg>
                <span class="font-bold text-xl ml-2 text-gray-800">ProResume Builder</span>
            </div>
            <button onclick="handlePrint()" class="flex items-center bg-blue-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-700 transition duration-300">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5 mr-2"><path d="M6 9V2h12v7"/><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/><path d="M6 14h12v8H6z"/></svg>
                Download PDF
            </button>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto p-4 sm:p-6 lg:p-8">
        <div class="flex flex-col md:flex-row gap-6 lg:gap-8">

            <!-- Left Column: Input Form -->
            <div class="w-full md:w-1/2 lg:w-3/5 space-y-6">
                
                <!-- Personal Details -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4 border-b pb-2">Personal Details</h2>
                    
                    <!-- New Photo Upload -->
                    <div class="mb-4">
                        <label for="photo" class="block text-sm font-medium text-gray-700 mb-1">Profile Photo</label>
                        <input id="photo" onchange="updatePhoto()" type="file" accept="image/*" class="p-2 border rounded-lg w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
                    </div>

                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <input id="name" oninput="updatePreview('name', 'preview-name')" type="text" placeholder="Full Name" class="p-2 border rounded-lg w-full">
                        <input id="title" oninput="updatePreview('title', 'preview-title')" type="text" placeholder="Job Title (e.g., Senior Software Engineer)" class="p-2 border rounded-lg w-full">
                        <input id="phone" oninput="updatePreview('phone', 'preview-phone')" type="tel" placeholder="Phone" class="p-2 border rounded-lg w-full">
                        <input id="email" oninput="updatePreview('email', 'preview-email')" type="email" placeholder="Email" class="p-2 border rounded-lg w-full">
                        <input id="location" oninput="updatePreview('location', 'preview-location')" type="text" placeholder="City, Country" class="p-2 border rounded-lg w-full">
                        <input id="linkedin" oninput="updatePreview('linkedin', 'preview-linkedin')" type="text" placeholder="LinkedIn Profile URL" class="p-2 border rounded-lg w-full">
                    </div>
                </div>

                <!-- Professional Summary -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4 border-b pb-2">Professional Summary</h2>
                    <textarea id="summary" oninput="updatePreview('summary', 'preview-summary')" placeholder="Write a brief summary of your career objectives and skills..." class="p-2 border rounded-lg w-full h-32"></textarea>
                </div>

                <!-- Work Experience -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex justify-between items-center mb-4 border-b pb-2">
                        <h2 class="text-xl font-semibold text-gray-800">Work Experience</h2>
                        <button onclick="addExperience()" class="bg-blue-500 text-white py-1 px-3 rounded-lg text-sm font-medium hover:bg-blue-600 transition duration-300">+ Add</button>
                    </div>
                    <div id="experience-forms" class="space-y-4">
                        <!-- Dynamic experience forms will be added here -->
                    </div>
                </div>
                
                <!-- Education -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex justify-between items-center mb-4 border-b pb-2">
                        <h2 class="text-xl font-semibold text-gray-800">Education</h2>
                        <button onclick="addEducation()" class="bg-blue-500 text-white py-1 px-3 rounded-lg text-sm font-medium hover:bg-blue-600 transition duration-300">+ Add</button>
                    </div>
                    <div id="education-forms" class="space-y-4">
                        <!-- Dynamic education forms will be added here -->
                    </div>
                </div>

                <!-- Skills -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="flex justify-between items-center mb-4 border-b pb-2">
                        <h2 class="text-xl font-semibold text-gray-800">Skills</h2>
                        <button onclick="addSkill()" class="bg-blue-500 text-white py-1 px-3 rounded-lg text-sm font-medium hover:bg-blue-600 transition duration-300">+ Add</button>
                    </div>
                    <div id="skill-forms" class="space-y-4">
                        <!-- Dynamic skill forms will be added here -->
                    </div>
                </div>

            </div>

            <!-- Right Column: Resume Preview -->
            <div class="w-full md:w-1/2 lg:w-2/5" id="print-wrapper">
                <div id="resume-preview" class="bg-white p-8 rounded-lg shadow-lg w-full max-w-2xl mx-auto h-full min-h-[1123px] aspect-[8.5/11]">
                    
                    <!-- Resume Header -->
                    <header class="flex items-center mb-6 border-b-2 border-blue-600 pb-4">
                        <!-- Image placeholder -->
                        <div class="mr-6 flex-shrink-0">
                            <img id="preview-image" src="https://placehold.co/96x96/e2e8f0/cbd5e1?text=Photo" alt="Profile Picture" class="rounded-full h-24 w-24 object-cover">
                        </div>
                        <!-- Details -->
                        <div class="text-left">
                            <h1 id="preview-name" class="text-4xl font-bold text-gray-900">Your Name</h1>
                            <h2 id="preview-title" class="text-xl font-medium text-blue-700 mt-1">Your Title</h2>
                        </div>
                    </header>
                    
                    <!-- Contact Info -->
                    <div class="flex justify-start gap-x-6 gap-y-2 flex-wrap text-sm text-gray-600 mb-6 -mt-4">
                        <span id="preview-phone" class="flex items-center">Phone</span>
                        <span id="preview-email" class="flex items-center">Email</span>
                        <span id="preview-location" class="flex items-center">Location</span>
                        <span id="preview-linkedin" class="flex items-center">LinkedIn</span>
                    </div>

                    <!-- Resume Body -->
                    <main class="space-y-6">
                        
                        <!-- Summary Section -->
                        <div>
                            <h3 class="text-lg font-semibold text-blue-800 border-b border-gray-300 pb-1 mb-2">Professional Summary</h3>
                            <p id="preview-summary" class="text-gray-700 text-sm">Your summary...</p>
                        </div>
                        
                        <!-- Skills Section -->
                        <div>
                            <h3 class="text-lg font-semibold text-blue-800 border-b border-gray-300 pb-1 mb-2">Skills</h3>
                            <div id="preview-skills" class="flex flex-wrap gap-2">
                                <!-- Dynamic skills will be added here -->
                                <span class="bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full">Skill (e.g., JavaScript)</span>
                            </div>
                        </div>

                        <!-- Experience Section -->
                        <div>
                            <h3 class="text-lg font-semibold text-blue-800 border-b border-gray-300 pb-1 mb-2">Work Experience</h3>
                            <div id="preview-experience" class="space-y-4">
                                <!-- Dynamic experience will be added here -->
                                <div class="text-sm">
                                    <h4 class="font-semibold text-gray-800">Job Title</h4>
                                    <div class="flex justify-between text-gray-600">
                                        <span>Company Name</span>
                                        <span>Dates (e.g., Jan 2020 - Present)</span>
                                    </div>
                                    <ul class="list-disc list-outside ml-5 text-gray-700 mt-1 space-y-1">
                                        <li>Responsibility or achievement...</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Education Section -->
                        <div>
                            <h3 class="text-lg font-semibold text-blue-800 border-b border-gray-300 pb-1 mb-2">Education</h3>
                            <div id="preview-education" class="space-y-4">
                                <!-- Dynamic education will be added here -->
                                <div class="text-sm">
                                    <h4 class="font-semibold text-gray-800">Degree or Certificate</h4>
                                    <div class="flex justify-between text-gray-600">
                                        <span>Institution Name</span>
                                        <span>Dates (e.g., Sep 2016 - May 2020)</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </main>
                </div>
            </div>
        </div>
    </main>

    <script>
        // --- Counter for unique IDs ---
        let expCount = 0;
        let eduCount = 0;
        let skillCount = 0;

        // --- Initial State ---
        document.addEventListener('DOMContentLoaded', () => {
            // Add one initial item for each section to guide the user
            addExperience();
            addEducation();
            addSkill();
            
            // Clear default preview text
            document.getElementById('preview-experience').innerHTML = '';
            document.getElementById('preview-education').innerHTML = '';
            document.getElementById('preview-skills').innerHTML = '';
            
            // Set default preview text for placeholders
            updatePreview('name', 'preview-name', 'Your Name');
            updatePreview('title', 'preview-title', 'Your Title');
            updatePreview('phone', 'preview-phone', 'Your Phone');
            updatePreview('email', 'preview-email', 'Your Email');
            updatePreview('location', 'preview-location', 'Your Location');
            updatePreview('linkedin', 'preview-linkedin', 'Your LinkedIn');
            updatePreview('summary', 'preview-summary', 'Your professional summary will appear here. Talk about your experience, skills, and career goals.');
        });

        // --- Simple Text Update Function ---
        function updatePreview(inputId, previewId, placeholder = '') {
            const inputElement = document.getElementById(inputId);
            const previewElement = document.getElementById(previewId);
            if (inputElement && previewElement) {
                previewElement.innerText = inputElement.value || placeholder;
            } else if (previewElement) {
                // This handles the initial load
                previewElement.innerText = placeholder;
            }
        }

        // --- New Photo Update Function ---
        function updatePhoto() {
            const input = document.getElementById('photo');
            const preview = document.getElementById('preview-image');
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    preview.src = e.target.result;
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        // --- Dynamic Section Functions ---

        // === EXPERIENCE ===
        function addExperience() {
            expCount++;
            const id = expCount;
            const formHtml = `
                <div id="exp-form-${id}" class="border p-4 rounded-lg space-y-2 relative">
                    <button onclick="removeElement('exp-form-${id}', 'exp-preview-${id}')" class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full h-6 w-6 flex items-center justify-center text-xs font-bold">&times;</button>
                    <input type="text" placeholder="Job Title" class="p-2 border rounded-lg w-full" oninput="updateExperience(${id})">
                    <input type="text" placeholder="Company Name" class="p-2 border rounded-lg w-full" oninput="updateExperience(${id})">
                    <input type="text" placeholder="Dates (e.g., Jan 2020 - Present)" class="p-2 border rounded-lg w-full" oninput="updateExperience(${id})">
                    <textarea placeholder="Responsibilities/Achievements (one per line)" class="p-2 border rounded-lg w-full h-24" oninput="updateExperience(${id})"></textarea>
                </div>
            `;
            document.getElementById('experience-forms').insertAdjacentHTML('beforeend', formHtml);

            // Add corresponding preview element
            const previewHtml = `
                <div id="exp-preview-${id}" class="text-sm">
                    <h4 class="font-semibold text-gray-800">Job Title</h4>
                    <div class="flex justify-between text-gray-600">
                        <span>Company Name</span>
                        <span>Dates</span>
                    </div>
                    <ul class="list-disc list-outside ml-5 text-gray-700 mt-1 space-y-1">
                        <li>Responsibility...</li>
                    </ul>
                </div>
            `;
            document.getElementById('preview-experience').insertAdjacentHTML('beforeend', previewHtml);
            updateExperience(id); // Call once to set initial state
        }

        function updateExperience(id) {
            const form = document.getElementById(`exp-form-${id}`);
            const preview = document.getElementById(`exp-preview-${id}`);
            if (!form || !preview) return;

            const [title, company, dates, desc] = form.querySelectorAll('input, textarea');
            
            preview.querySelector('h4').innerText = title.value || 'Job Title';
            preview.querySelector('span:first-child').innerText = company.value || 'Company Name';
            preview.querySelector('span:last-child').innerText = dates.value || 'Dates';
            
            // Update responsibilities
            const descList = preview.querySelector('ul');
            const responsibilities = desc.value.split('\n').filter(line => line.trim() !== '');
            if (responsibilities.length > 0) {
                descList.innerHTML = responsibilities.map(item => `<li>${item}</li>`).join('');
            } else {
                descList.innerHTML = '<li>Responsibility or achievement...</li>';
            }
        }

        // === EDUCATION ===
        function addEducation() {
            eduCount++;
            const id = eduCount;
            const formHtml = `
                <div id="edu-form-${id}" class="border p-4 rounded-lg space-y-2 relative">
                    <button onclick="removeElement('edu-form-${id}', 'edu-preview-${id}')" class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full h-6 w-6 flex items-center justify-center text-xs font-bold">&times;</button>
                    <input type="text" placeholder="Degree / Certificate" class="p-2 border rounded-lg w-full" oninput="updateEducation(${id})">
                    <input type="text" placeholder="Institution Name" class="p-2 border rounded-lg w-full" oninput="updateEducation(${id})">
                    <input type="text" placeholder="Dates (e.g., Sep 2016 - May 2020)" class="p-2 border rounded-lg w-full" oninput="updateEducation(${id})">
                </div>
            `;
            document.getElementById('education-forms').insertAdjacentHTML('beforeend', formHtml);
            
            const previewHtml = `
                <div id="edu-preview-${id}" class="text-sm">
                    <h4 class="font-semibold text-gray-800">Degree or Certificate</h4>
                    <div class="flex justify-between text-gray-600">
                        <span>Institution Name</span>
                        <span>Dates</span>
                    </div>
                </div>
            `;
            document.getElementById('preview-education').insertAdjacentHTML('beforeend', previewHtml);
            updateEducation(id); // Call once
        }

        function updateEducation(id) {
            const form = document.getElementById(`edu-form-${id}`);
            const preview = document.getElementById(`edu-preview-${id}`);
            if (!form || !preview) return;

            const [degree, institution, dates] = form.querySelectorAll('input');

            preview.querySelector('h4').innerText = degree.value || 'Degree or Certificate';
            preview.querySelector('span:first-child').innerText = institution.value || 'Institution Name';
            preview.querySelector('span:last-child').innerText = dates.value || 'Dates';
        }

        // === SKILLS ===
        function addSkill() {
            skillCount++;
            const id = skillCount;
            const formHtml = `
                <div id="skill-form-${id}" class="relative">
                    <input type="text" placeholder="Skill (e.g., JavaScript)" class="p-2 border rounded-lg w-full pr-10" oninput="updateSkill(${id})">
                    <button onclick="removeElement('skill-form-${id}', 'skill-preview-${id}')" class="absolute top-1/2 right-2 -translate-y-1/2 text-red-500 hover:text-red-700 font-bold">&times;</button>
                </div>
            `;
            document.getElementById('skill-forms').insertAdjacentHTML('beforeend', formHtml);
            
            const previewHtml = `
                <span id="skill-preview-${id}" class="bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full">Skill</span>
            `;
            document.getElementById('preview-skills').insertAdjacentHTML('beforeend', previewHtml);
            updateSkill(id); // Call once
        }

        function updateSkill(id) {
            const form = document.getElementById(`skill-form-${id}`);
            const preview = document.getElementById(`skill-preview-${id}`);
            if (!form || !preview) return;

            const input = form.querySelector('input');
            preview.innerText = input.value || 'Skill';
        }

        // --- Remove Element Function ---
        function removeElement(formId, previewId) {
            document.getElementById(formId)?.remove();
            document.getElementById(previewId)?.remove();
        }
        
        // --- Print Function ---
        function handlePrint() {
            window.print();
        }

    </script>
</body>
</html>

